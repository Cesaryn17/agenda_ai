{% extends "account/base.html" %}
{% load i18n %}
{% load account %}
{% load static %}

{% block content %}
<div class="auth-header">
    <h1>Recuperar Senha</h1>
    <p>Digite seu e-mail para receber o link de recuperação</p>
</div>

{% if user.is_authenticated %}
<div class="messages">
    <div class="alert alert-success">
        <i class="fas fa-info-circle"></i>
        {% blocktrans %}Você já está logado como {{ user.email }}.{% endblocktrans %}
    </div>
</div>
{% endif %}

{% if form.errors %}
<div class="messages">
    <div class="alert alert-error">
        <i class="fas fa-exclamation-circle"></i>
        {% for field, errors in form.errors.items %}
            {% for error in errors %}
                {{ error }}<br>
            {% endfor %}
        {% endfor %}
    </div>
</div>
{% endif %}

<form class="auth-form" method="POST" action="{% url 'account_reset_password' %}">
    {% csrf_token %}
    
    <div class="form-group">
        <label for="id_email">E-mail *</label>
        <div class="input-with-icon">
            <i class="fas fa-envelope"></i>
            <input type="email" id="id_email" name="email" placeholder="seu@email.com" required autofocus>
        </div>
        <div style="margin-top: 10px; font-size: 0.9rem; color: #718096;">
            <i class="fas fa-info-circle"></i>
            Enviaremos um link para redefinir sua senha
        </div>
    </div>
    
    <button type="submit" class="auth-button">
        <i class="fas fa-paper-plane" style="margin-right: 8px;"></i>
        Enviar link de recuperação
    </button>
</form>

<div class="auth-footer" style="margin-top: 30px;">
    <p>Lembrou sua senha? <a href="{% url 'account_login' %}">Voltar para o login</a></p>
    <p style="margin-top: 10px; font-size: 0.9rem;">
        Problemas para recuperar? <a href="{% url 'contact' %}">Entre em contato conosco</a>
    </p>
</div>
{% endblock %}